# 扩容

垂直扩展

水平扩展 

读操作扩展:memcahce、redis、CDN等缓存

写操作扩展：Cassandra、Hbase等

# 缓存

缓存特征：

1. 命中率

 	2.  最大空间
 	3. 清空策略

缓存命中率影响因素

1. 业务场景和业务需求

 	2. 缓存的设计
 	3. 缓存容量和基础设施

缓存分类和应用场景

1. 本地缓存：Guava Cache
 	2. 分布式缓存:Memcache、Redis

高并发场景下缓存常见问题

	1. 缓存一致性问题
 	2. 缓存并发问题
 	3. 缓存穿透问题
 	4. 缓存雪崩现象

# 消息队列

特性：

	1. 与业务无关：只做消息分发
 	2. FIFO：
 	3. 容灾：
 	4. 性能：

为什么需要消息队列：

	1. 生产和消费的速度或稳定性等因素不一致

好处：

	1. 业务解耦
 	2. 最终一致性
 	3. 广播
 	4. 错峰与流控

Kafka构架：

# 应用拆分

原则：

	1. 业务优先
 	2. 边拆分边测试
 	3. 兼顾技术：重构、分层
 	4. 可靠测试

思考：

	1. 应用之间通信：PRC、消息队列
 	2. 应用之间数据库设计：每个应用都有独立的数据库
 	3. 避免事物操作跨应用

Dubbo框架：

# 应用限流

算法：

	1. 计数器法
 	2. 滑动窗口
 	3. 漏桶算法
 	4. 令牌桶算法

 # 服务降级与服务熔断

服务降级分类：

	1. 自动降级
 	2. 人工降级

共性：目的、最终表现、粒度、自制

区别：触发原因、管理目标层次、实现方式

# 数据库切库、分库、分表

## 切库

	1. 读写分离
 	2. 

# 高可用手段

 	1. 任务调度系统分布式：elastic-job+zookeeper
   	2. 主备切换：apache curator + zookeeper分布式锁实现
   	3. 监控报警机制





 